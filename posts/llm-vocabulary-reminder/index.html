<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>å€ŸåŠ© LLM å’Œ Telegram æœºå™¨äººï¼Œè®©èƒŒå•è¯ä¸å†æ¯ç‡¥ | zhoukuncheng's Personal Blog</title>
<meta name=keywords content="English,Telegram Bot,Python,LLM"><meta name=description content="èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·± èƒŒå•è¯ï¼Œåœ¨è‹±è¯­å­¦ä¹ ä¸­å®åœ¨æ— æ³•é¿å…ï¼Œä»å°å­¦åˆ°ç ”ç©¶ç”Ÿï¼Œç”šè‡³å·¥ä½œéœ€è¦ã€‚ ä½†æŠ±ç€å•è¯ä¹¦å•ƒï¼Œæˆ–è€…æ‰‹æœºä¸Šä¸€æ¿ä¸€çœ¼èƒŒå•è¯ï¼Œæ•ˆç‡å®åœ¨å¤ªä½ã€‚ç°åœ¨ LLM è¿™ä¹ˆç«ï¼Œä¸ºä½•ä¸åˆ©ç”¨èµ·æ¥ï¼Ÿ æ¯•ç«Ÿ LLM ä¸­é—´çš„ L å°±æ˜¯ Language çš„æ„æ€ï¼ŒLLM å¯¹ä»˜å…¶ä»–ä¸¥è°¨ä»»åŠ¡å¯èƒ½å·®ç‚¹æ„æ€ï¼Œä½†è‹±è¯­ç­‰è¯­è¨€å¯æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œèƒ½ç”¨æŠ€æœ¯è§£å†³é—®é¢˜ï¼Œå°±ä¸è¦éº»çƒ¦è‡ªå·±ï¼ æœ¬æ–‡å°±æ¥åˆ†äº«ä¸€ä¸‹ï¼Œæ€ä¹ˆç”¨æ¬§è·¯è¯å…¸ APIã€LLM å’Œ Telegram æœºå™¨äººæä¸ªè‹±"><meta name=author content><link rel=canonical href=https://zhoukuncheng.github.io/posts/llm-vocabulary-reminder/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://zhoukuncheng.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zhoukuncheng.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zhoukuncheng.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://zhoukuncheng.github.io/apple-touch-icon.png><link rel=mask-icon href=https://zhoukuncheng.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zhoukuncheng.github.io/posts/llm-vocabulary-reminder/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="å€ŸåŠ© LLM å’Œ Telegram æœºå™¨äººï¼Œè®©èƒŒå•è¯ä¸å†æ¯ç‡¥"><meta property="og:description" content="èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·± èƒŒå•è¯ï¼Œåœ¨è‹±è¯­å­¦ä¹ ä¸­å®åœ¨æ— æ³•é¿å…ï¼Œä»å°å­¦åˆ°ç ”ç©¶ç”Ÿï¼Œç”šè‡³å·¥ä½œéœ€è¦ã€‚ ä½†æŠ±ç€å•è¯ä¹¦å•ƒï¼Œæˆ–è€…æ‰‹æœºä¸Šä¸€æ¿ä¸€çœ¼èƒŒå•è¯ï¼Œæ•ˆç‡å®åœ¨å¤ªä½ã€‚ç°åœ¨ LLM è¿™ä¹ˆç«ï¼Œä¸ºä½•ä¸åˆ©ç”¨èµ·æ¥ï¼Ÿ æ¯•ç«Ÿ LLM ä¸­é—´çš„ L å°±æ˜¯ Language çš„æ„æ€ï¼ŒLLM å¯¹ä»˜å…¶ä»–ä¸¥è°¨ä»»åŠ¡å¯èƒ½å·®ç‚¹æ„æ€ï¼Œä½†è‹±è¯­ç­‰è¯­è¨€å¯æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œèƒ½ç”¨æŠ€æœ¯è§£å†³é—®é¢˜ï¼Œå°±ä¸è¦éº»çƒ¦è‡ªå·±ï¼ æœ¬æ–‡å°±æ¥åˆ†äº«ä¸€ä¸‹ï¼Œæ€ä¹ˆç”¨æ¬§è·¯è¯å…¸ APIã€LLM å’Œ Telegram æœºå™¨äººæä¸ªè‹±"><meta property="og:type" content="article"><meta property="og:url" content="https://zhoukuncheng.github.io/posts/llm-vocabulary-reminder/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-19T00:11:00+08:00"><meta property="article:modified_time" content="2024-04-19T00:11:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="å€ŸåŠ© LLM å’Œ Telegram æœºå™¨äººï¼Œè®©èƒŒå•è¯ä¸å†æ¯ç‡¥"><meta name=twitter:description content="èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·± èƒŒå•è¯ï¼Œåœ¨è‹±è¯­å­¦ä¹ ä¸­å®åœ¨æ— æ³•é¿å…ï¼Œä»å°å­¦åˆ°ç ”ç©¶ç”Ÿï¼Œç”šè‡³å·¥ä½œéœ€è¦ã€‚ ä½†æŠ±ç€å•è¯ä¹¦å•ƒï¼Œæˆ–è€…æ‰‹æœºä¸Šä¸€æ¿ä¸€çœ¼èƒŒå•è¯ï¼Œæ•ˆç‡å®åœ¨å¤ªä½ã€‚ç°åœ¨ LLM è¿™ä¹ˆç«ï¼Œä¸ºä½•ä¸åˆ©ç”¨èµ·æ¥ï¼Ÿ æ¯•ç«Ÿ LLM ä¸­é—´çš„ L å°±æ˜¯ Language çš„æ„æ€ï¼ŒLLM å¯¹ä»˜å…¶ä»–ä¸¥è°¨ä»»åŠ¡å¯èƒ½å·®ç‚¹æ„æ€ï¼Œä½†è‹±è¯­ç­‰è¯­è¨€å¯æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œèƒ½ç”¨æŠ€æœ¯è§£å†³é—®é¢˜ï¼Œå°±ä¸è¦éº»çƒ¦è‡ªå·±ï¼ æœ¬æ–‡å°±æ¥åˆ†äº«ä¸€ä¸‹ï¼Œæ€ä¹ˆç”¨æ¬§è·¯è¯å…¸ APIã€LLM å’Œ Telegram æœºå™¨äººæä¸ªè‹±"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zhoukuncheng.github.io/posts/"},{"@type":"ListItem","position":2,"name":"å€ŸåŠ© LLM å’Œ Telegram æœºå™¨äººï¼Œè®©èƒŒå•è¯ä¸å†æ¯ç‡¥","item":"https://zhoukuncheng.github.io/posts/llm-vocabulary-reminder/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"å€ŸåŠ© LLM å’Œ Telegram æœºå™¨äººï¼Œè®©èƒŒå•è¯ä¸å†æ¯ç‡¥","name":"å€ŸåŠ© LLM å’Œ Telegram æœºå™¨äººï¼Œè®©èƒŒå•è¯ä¸å†æ¯ç‡¥","description":"èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·± èƒŒå•è¯ï¼Œåœ¨è‹±è¯­å­¦ä¹ ä¸­å®åœ¨æ— æ³•é¿å…ï¼Œä»å°å­¦åˆ°ç ”ç©¶ç”Ÿï¼Œç”šè‡³å·¥ä½œéœ€è¦ã€‚ ä½†æŠ±ç€å•è¯ä¹¦å•ƒï¼Œæˆ–è€…æ‰‹æœºä¸Šä¸€æ¿ä¸€çœ¼èƒŒå•è¯ï¼Œæ•ˆç‡å®åœ¨å¤ªä½ã€‚ç°åœ¨ LLM è¿™ä¹ˆç«ï¼Œä¸ºä½•ä¸åˆ©ç”¨èµ·æ¥ï¼Ÿ æ¯•ç«Ÿ LLM ä¸­é—´çš„ L å°±æ˜¯ Language çš„æ„æ€ï¼ŒLLM å¯¹ä»˜å…¶ä»–ä¸¥è°¨ä»»åŠ¡å¯èƒ½å·®ç‚¹æ„æ€ï¼Œä½†è‹±è¯­ç­‰è¯­è¨€å¯æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œèƒ½ç”¨æŠ€æœ¯è§£å†³é—®é¢˜ï¼Œå°±ä¸è¦éº»çƒ¦è‡ªå·±ï¼ æœ¬æ–‡å°±æ¥åˆ†äº«ä¸€ä¸‹ï¼Œæ€ä¹ˆç”¨æ¬§è·¯è¯å…¸ APIã€LLM å’Œ Telegram æœºå™¨äººæä¸ªè‹±","keywords":["English","Telegram Bot","Python","LLM"],"articleBody":"èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·± èƒŒå•è¯ï¼Œåœ¨è‹±è¯­å­¦ä¹ ä¸­å®åœ¨æ— æ³•é¿å…ï¼Œä»å°å­¦åˆ°ç ”ç©¶ç”Ÿï¼Œç”šè‡³å·¥ä½œéœ€è¦ã€‚\nä½†æŠ±ç€å•è¯ä¹¦å•ƒï¼Œæˆ–è€…æ‰‹æœºä¸Šä¸€æ¿ä¸€çœ¼èƒŒå•è¯ï¼Œæ•ˆç‡å®åœ¨å¤ªä½ã€‚ç°åœ¨ LLM è¿™ä¹ˆç«ï¼Œä¸ºä½•ä¸åˆ©ç”¨èµ·æ¥ï¼Ÿ\næ¯•ç«Ÿ LLM ä¸­é—´çš„ L å°±æ˜¯ Language çš„æ„æ€ï¼ŒLLM å¯¹ä»˜å…¶ä»–ä¸¥è°¨ä»»åŠ¡å¯èƒ½å·®ç‚¹æ„æ€ï¼Œä½†è‹±è¯­ç­‰è¯­è¨€å¯æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œèƒ½ç”¨æŠ€æœ¯è§£å†³é—®é¢˜ï¼Œå°±ä¸è¦éº»çƒ¦è‡ªå·±ï¼\næœ¬æ–‡å°±æ¥åˆ†äº«ä¸€ä¸‹ï¼Œæ€ä¹ˆç”¨æ¬§è·¯è¯å…¸ APIã€LLM å’Œ Telegram æœºå™¨äººæä¸ªè‹±è¯­è¯æ±‡å­¦ä¹ åŠ©æ‰‹ï¼Œè®©ä½ èƒŒå•è¯ä¸å†ç—›è‹¦ã€‚\nå½“ç„¶ï¼Œä¹Ÿå¯èƒ½ç”¨å‡ å¤©å°±æ„Ÿè§‰å¾ˆçƒ¦äººï¼Œæ¯•ç«Ÿçµæ„Ÿæ¥è‡ªå¤šé‚»å›½ AppğŸ¦‰ã€‚\né¡¹ç›®ç›®æ ‡ï¼šè§£æ”¾æ³¨æ„åŠ› ä¸ç”¨ä¸»åŠ¨å»ç¡¬èƒŒå•è¯ï¼Œè€Œæ˜¯è®©ç¨‹åºä»£åŠ³ï¼Œå¹¶ä¸”è¦æ ¹æ®å•è¯ç”Ÿæˆä¾‹å¥å’Œæ–‡ç« ï¼Œè®©ä½ æ›´å¥½åœ°ç†è§£å’Œè®°å¿†ã€‚æ€»ä¹‹ï¼Œå°±æ˜¯è®©ä½ èƒŒå•è¯æ›´è½»æ¾ã€æ›´æœ‰æ•ˆç‡ã€‚\nç³»ç»Ÿæ¶æ„ æ¬§è·¯è¯å…¸ APIï¼š æ¬§è·¯è¯å…¸æ—¢å¯ä»¥æŸ¥è¯åˆå¯ä»¥èƒŒå•è¯ï¼Œå°±é€‰å®ƒäº†ã€‚ LLM (æ¯”å¦‚ Groq)ï¼š å¤§è¯­è¨€æ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®å•è¯ç”Ÿæˆå„ç§ä¾‹å¥ã€å¯¹è¯ç”šè‡³æ–‡ç« ï¼Œè®©ä½ æ›´å¥½åœ°ç†è§£å•è¯çš„ç”¨æ³•ã€‚è¿˜å¯ä»¥åˆ©ç”¨å®ƒç”Ÿæˆç¬¦åˆé›…æ€ IELTS å†™ä½œè€ƒæ ¸æ ‡å‡†çš„æ–‡ç« ï¼Œå¸®åŠ©ä½ å­¦ä¹ è‹±è¯­å†™ä½œã€‚Groq æ˜¯ç›®å‰å®¹æ˜“å…è´¹è·å–çš„ LLM APIï¼Œå¯ä»¥é€‰æ‹© Mixtral 8x7b æ¨¡å‹ã€‚ Telegram æœºå™¨äººï¼š Telegram å¹³å°ç›¸æ¯”å¾®ä¿¡ï¼ŒQQ ç­‰è‡ªç”±ã€API å¼ºå¤§ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œæœ€é€‚åˆç”¨å®ƒæ¥å½“æé†’å·¥å…·ã€‚ æ ¼å¼è½¬æ¢ï¼š ç”±äº Telegram æ¶ˆæ¯å¯¹ Markdown çš„é™åˆ¶ï¼Œå’Œ Telegraph å†™ä½œå¹³å°å¯¹ HTML æ ‡ç­¾çš„é™åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œç¡®ä¿å†…å®¹èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºã€‚ å®ç°æ–¹æ³• è·å–ç”Ÿè¯åˆ—è¡¨ æ¥å£æ–‡æ¡£ï¼š https://my.eudic.net/OpenAPI/doc_api_study\nè·å–æ‰€æœ‰ç”Ÿè¯æœ¬ æ¥å£è¯´æ˜ï¼š è¯·æ±‚æ–¹å¼ï¼šGET è¯·æ±‚åœ°å€ï¼šhttps://api.frdic.com/api/open/v1/studylist/category æœ¬æ¥å£ç”¨äºè·å–ç”Ÿè¯æœ¬ä¿¡æ¯ ç”Ÿè¯æœ¬çš„IDæ˜¯å”¯ä¸€æ ‡è¯†ï¼Œç”¨äºè°ƒç”¨å…¶ä»–æ¥å£ ç”Ÿæˆä¾‹å¥å’Œæ–‡ç« \nasync def gen_chat_completion(sys_prompt: str, prompt: str) -\u003e str: # ... LLM è°ƒç”¨ä»£ç  (ä¾‹å¦‚ Groq)... chat_completion = await client.chat.completions.create( messages=[ {\"role\": \"system\", \"content\": sys_prompt}, {\"role\": \"user\", \"content\": prompt}, ], # ... å…¶ä»–å‚æ•°è®¾ç½® ... ) return chat_completion.choices[0].message.content ä½¿ç”¨å¦‚ä¸‹ sys_prompt è®© LLM è§£é‡Šå•è¯ï¼š\nYou are a professional English teacher. Given a English word, output their definitions in both English and Chinese, and synonyms and antonyms. Don't omit any word from the list. Must explain all meanings of the word. Additionally, include all tenses and voices for each word. Then provide collocations and example sentences. Format: Markdown. Example: **desert** *Definition*: - ğŸ‡¬ğŸ‡§: - n. arid land with little or no vegetation - v. leave someone who needs or counts on you; leave in the lurch - v. desert (a cause, a country or an army), often in order to join the opposing cause, country, or army - adj. located in a dismal or remote area; desolate - ğŸ‡¨ğŸ‡³: - n. æ²™æ¼ ï¼Œè’æ¼ ï¼›è’å‡‰çš„åœ°æ–¹ï¼›åº”å¾—çš„èµç½š - v. ç¦»å¼ƒï¼Œèˆå¼ƒï¼ˆæŸåœ°ï¼‰ï¼›æŠ›å¼ƒï¼Œé—å¼ƒï¼ˆæŸäººï¼‰ï¼›èƒŒå¼ƒï¼Œæ”¾å¼ƒï¼›æ“…ç¦»ï¼Œå¼€å°å·®ï¼›çªç„¶ä¸§å¤± - adj. æ— äººå±…ä½çš„ï¼Œè’å‡‰çš„ï¼›åƒæ²™æ¼ çš„ *Synonyms*: - vt. yield , quit - vi. run out on, walk out on - n. sands, wold - adj. arid, desolate, lonely, uninhabited *Antonyms*: - adj. inhabited, populated *Collocation*: desert island n. è’å²›; sahara desert æ’’å“ˆæ‹‰å¤§æ²™æ¼  *Sentence*: - ğŸ‡¬ğŸ‡§: The heat in the desert was extreme. - ğŸ‡¨ğŸ‡³: æ²™æ¼ ä¸­æå…¶ç‚çƒ­ ----------------- ä½¿ç”¨ä»¥ä¸‹ sys_prompt æŒ‡å¯¼ LLM ç”Ÿæˆç¬¦åˆé›…æ€å†™ä½œæ ‡å‡†çš„æ–‡ç« ï¼š\nYou are a professional English writer. Given some English words, Utilize all of the provided English words to compose an essay that does not exceed 280 words. (Do not omit any word from the list). and following IELTS criteria. The topic is in (Art, Business \u0026 Money, Communication \u0026 Personality, Crime \u0026 Punishment, Education, Environment, Family \u0026 Children, Food \u0026 Diet, Government, Health, Housing, Buildings \u0026 Urban Planning, Language, Leisure, Media \u0026 Advertising, Reading, Society, Space Exploration, Sport \u0026 Exercise, Technology, Tourism and Travel, Transport, Work). Essay types: 1. Opinion Essays 2. Discussion Essays 3. Problem Solution Essays 4. Advantages \u0026 Disadvantages Essays 5. Double Question Essays Criteria: -------- Task achievement ... Coherence and cohesion ... Lexical resource ... Grammatical range and accuracy ... -------- Format: Markdown. Include title and content. Highlight these given words in the Essay use HTML syntax. æ ¼å¼è½¬æ¢\nå°† LLM ç”Ÿæˆçš„ Markdown æ ¼å¼æ–‡æœ¬è½¬æ¢ä¸º Telegram æ”¯æŒçš„æ ¼å¼ï¼Œä¾‹å¦‚ä½¿ç”¨ telegramify_markdown åº“ã€‚ å°† Markdown æ ¼å¼æ–‡æœ¬è½¬æ¢ä¸º Telegraph æ”¯æŒçš„ HTML æ ¼å¼ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„æ ‡ç­¾è¿‡æ»¤å’Œè°ƒæ•´ã€‚ # llm explain llm_explain = await gen_chat_completion( sys_message_explanation, f'word: \"{word}\"' ) await context.bot.send_message( job.chat_id, telegramify_markdown.convert(llm_explain), parse_mode=\"MarkdownV2\", reply_to_message_id=msg.message_id, ) async def write_to_telegraph(html: str) -\u003e str: telegraph = Telegraph() if not telegraph.get_access_token(): logging.info(await telegraph.create_account(short_name=\"anonymous\")) response = await telegraph.create_page( f\"Glossary {datetime.datetime.now(datetime.UTC)}\", html_content=html, ) logging.info(response) return response[\"url\"] article_url = await write_to_telegraph( mistune.create_markdown( escape=False, hard_wrap=True, plugins=[\"strikethrough\", \"footnotes\", \"table\", \"speedup\"], )( llm_response, ) ) await context.bot.send_message(job.chat_id, article_url) Edge TTS æœ—è¯»\nVOICE = os.getenv(\"EDGE_TTS_VOICE\", \"en-US-AvaMultilingualNeural\") async def gen_tts_audio(text: str, filename: str) -\u003e None: \"\"\"Main function\"\"\" communicate = edge_tts.Communicate(text, VOICE) await communicate.save(filename) å®šæ—¶å‘é€ Telegram æ¶ˆæ¯\ntimes = [(x, random.randint(15, 55)) for x in range(8, 23)] for h, m in times: context.job_queue.run_daily( daily_message, datetime.time(hour=h, minute=m, tzinfo=pytz.timezone(\"Asia/Shanghai\")), name=f\"{h}:{m} job\", chat_id=update.message.chat_id, ) æœªæ¥è§„åˆ’ æ›´å¤šç”Ÿè¯æœ¬æ¥æºï¼š å¦‚æ‰‡è´ã€æœ‰é“ï¼Œæˆ–è€…æœ¬åœ° mdict æ–‡ä»¶ç­‰ã€‚ æ›´å¼ºå¤§çš„ LLMï¼š æ¥å…¥ GPT 4 æˆ–è€… Claude Opus çº§åˆ«ã€‚ æ›´å¤šæé†’æ–¹å¼ï¼š å¦‚ç”Ÿæˆ ical æ–‡ä»¶ï¼Œå¯ä»¥æ·»åŠ åˆ°æ—¥å†ä¸­ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œè®©æˆ‘ä»¬ä»ä¼ ç»ŸæŒ‰é¡ºåºå•ƒå•è¯çš„æ¯ç‡¥æ–¹å¼è§£æ”¾ï¼Œåœ¨ AI æ—¶ä»£ï¼Œå……åˆ†åˆ©ç”¨ LLMï¼Œé‡æ–°æ€è€ƒèƒŒå•è¯çš„ä¹ æƒ¯ã€‚\n","wordCount":"1467","inLanguage":"en","datePublished":"2024-04-19T00:11:00+08:00","dateModified":"2024-04-19T00:11:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://zhoukuncheng.github.io/posts/llm-vocabulary-reminder/"},"publisher":{"@type":"Organization","name":"zhoukuncheng's Personal Blog","logo":{"@type":"ImageObject","url":"https://zhoukuncheng.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zhoukuncheng.github.io/ accesskey=h title="zhoukuncheng's Personal Blog (Alt + H)">zhoukuncheng's Personal Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://zhoukuncheng.github.io/ title=Home><span>Home</span></a></li><li><a href=https://zhoukuncheng.github.io/posts/ title=Archive><span>Archive</span></a></li><li><a href=https://zhoukuncheng.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zhoukuncheng.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://zhoukuncheng.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>å€ŸåŠ© LLM å’Œ Telegram æœºå™¨äººï¼Œè®©èƒŒå•è¯ä¸å†æ¯ç‡¥</h1><div class=post-meta><span title='2024-04-19 00:11:00 +0800 +0800'>April 19, 2024</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e8%83%8c%e8%8b%b1%e8%af%ad%e5%8d%95%e8%af%8d%e6%80%bb%e6%98%af-abandon-%e5%90%91%e5%a4%9a%e9%82%bb%e5%9b%bd--%e5%8f%96%e7%bb%8f%e8%ae%a9%e5%8d%95%e8%af%8d%e4%b8%bb%e5%8a%a8%e6%8f%90%e9%86%92%e8%87%aa%e5%b7%b1 aria-label="èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·±">èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·±</a><ul><li><a href=#%e9%a1%b9%e7%9b%ae%e7%9b%ae%e6%a0%87%e8%a7%a3%e6%94%be%e6%b3%a8%e6%84%8f%e5%8a%9b aria-label=é¡¹ç›®ç›®æ ‡ï¼šè§£æ”¾æ³¨æ„åŠ›>é¡¹ç›®ç›®æ ‡ï¼šè§£æ”¾æ³¨æ„åŠ›</a></li><li><a href=#%e7%b3%bb%e7%bb%9f%e6%9e%b6%e6%9e%84 aria-label=ç³»ç»Ÿæ¶æ„>ç³»ç»Ÿæ¶æ„</a></li><li><a href=#%e5%ae%9e%e7%8e%b0%e6%96%b9%e6%b3%95 aria-label=å®ç°æ–¹æ³•>å®ç°æ–¹æ³•</a></li><li><a href=#%e6%9c%aa%e6%9d%a5%e8%a7%84%e5%88%92 aria-label=æœªæ¥è§„åˆ’>æœªæ¥è§„åˆ’</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=èƒŒè‹±è¯­å•è¯æ€»æ˜¯-abandon-å‘å¤šé‚»å›½--å–ç»è®©å•è¯ä¸»åŠ¨æé†’è‡ªå·±>èƒŒè‹±è¯­å•è¯æ€»æ˜¯ Abandonï¼Ÿ å‘å¤šé‚»å›½ ğŸ¦‰ å–ç»ï¼Œè®©å•è¯ä¸»åŠ¨æé†’è‡ªå·±<a hidden class=anchor aria-hidden=true href=#èƒŒè‹±è¯­å•è¯æ€»æ˜¯-abandon-å‘å¤šé‚»å›½--å–ç»è®©å•è¯ä¸»åŠ¨æé†’è‡ªå·±>#</a></h2><p>èƒŒå•è¯ï¼Œåœ¨è‹±è¯­å­¦ä¹ ä¸­å®åœ¨æ— æ³•é¿å…ï¼Œä»å°å­¦åˆ°ç ”ç©¶ç”Ÿï¼Œç”šè‡³å·¥ä½œéœ€è¦ã€‚<br>ä½†æŠ±ç€å•è¯ä¹¦å•ƒï¼Œæˆ–è€…æ‰‹æœºä¸Šä¸€æ¿ä¸€çœ¼èƒŒå•è¯ï¼Œæ•ˆç‡å®åœ¨å¤ªä½ã€‚ç°åœ¨ LLM è¿™ä¹ˆç«ï¼Œä¸ºä½•ä¸åˆ©ç”¨èµ·æ¥ï¼Ÿ<br>æ¯•ç«Ÿ LLM ä¸­é—´çš„ L å°±æ˜¯ Language çš„æ„æ€ï¼ŒLLM å¯¹ä»˜å…¶ä»–ä¸¥è°¨ä»»åŠ¡å¯èƒ½å·®ç‚¹æ„æ€ï¼Œä½†è‹±è¯­ç­‰è¯­è¨€å¯æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œèƒ½ç”¨æŠ€æœ¯è§£å†³é—®é¢˜ï¼Œå°±ä¸è¦éº»çƒ¦è‡ªå·±ï¼<br>æœ¬æ–‡å°±æ¥åˆ†äº«ä¸€ä¸‹ï¼Œæ€ä¹ˆç”¨æ¬§è·¯è¯å…¸ APIã€LLM å’Œ Telegram æœºå™¨äººæä¸ªè‹±è¯­è¯æ±‡å­¦ä¹ åŠ©æ‰‹ï¼Œè®©ä½ èƒŒå•è¯ä¸å†ç—›è‹¦ã€‚<br>å½“ç„¶ï¼Œä¹Ÿå¯èƒ½ç”¨å‡ å¤©å°±æ„Ÿè§‰å¾ˆçƒ¦äººï¼Œæ¯•ç«Ÿçµæ„Ÿæ¥è‡ªå¤šé‚»å›½ AppğŸ¦‰ã€‚</p><h3 id=é¡¹ç›®ç›®æ ‡è§£æ”¾æ³¨æ„åŠ›>é¡¹ç›®ç›®æ ‡ï¼šè§£æ”¾æ³¨æ„åŠ›<a hidden class=anchor aria-hidden=true href=#é¡¹ç›®ç›®æ ‡è§£æ”¾æ³¨æ„åŠ›>#</a></h3><p>ä¸ç”¨ä¸»åŠ¨å»ç¡¬èƒŒå•è¯ï¼Œè€Œæ˜¯è®©ç¨‹åºä»£åŠ³ï¼Œå¹¶ä¸”è¦æ ¹æ®å•è¯ç”Ÿæˆä¾‹å¥å’Œæ–‡ç« ï¼Œè®©ä½ æ›´å¥½åœ°ç†è§£å’Œè®°å¿†ã€‚æ€»ä¹‹ï¼Œå°±æ˜¯è®©ä½ èƒŒå•è¯æ›´è½»æ¾ã€æ›´æœ‰æ•ˆç‡ã€‚</p><h3 id=ç³»ç»Ÿæ¶æ„>ç³»ç»Ÿæ¶æ„<a hidden class=anchor aria-hidden=true href=#ç³»ç»Ÿæ¶æ„>#</a></h3><p><img loading=lazy src=/static/mermaid-diagram-2024-04-19-010615.svg alt=æµç¨‹></p><ul><li><strong>æ¬§è·¯è¯å…¸ APIï¼š</strong> æ¬§è·¯è¯å…¸æ—¢å¯ä»¥æŸ¥è¯åˆå¯ä»¥èƒŒå•è¯ï¼Œå°±é€‰å®ƒäº†ã€‚</li><li><strong>LLM (æ¯”å¦‚ Groq)ï¼š</strong> å¤§è¯­è¨€æ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®å•è¯ç”Ÿæˆå„ç§ä¾‹å¥ã€å¯¹è¯ç”šè‡³æ–‡ç« ï¼Œè®©ä½ æ›´å¥½åœ°ç†è§£å•è¯çš„ç”¨æ³•ã€‚è¿˜å¯ä»¥åˆ©ç”¨å®ƒç”Ÿæˆç¬¦åˆé›…æ€
IELTS å†™ä½œè€ƒæ ¸æ ‡å‡†çš„æ–‡ç« ï¼Œå¸®åŠ©ä½ å­¦ä¹ è‹±è¯­å†™ä½œã€‚Groq æ˜¯ç›®å‰å®¹æ˜“å…è´¹è·å–çš„ LLM APIï¼Œå¯ä»¥é€‰æ‹© Mixtral 8x7b æ¨¡å‹ã€‚</li><li><strong>Telegram æœºå™¨äººï¼š</strong> Telegram å¹³å°ç›¸æ¯”å¾®ä¿¡ï¼ŒQQ ç­‰è‡ªç”±ã€API å¼ºå¤§ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œæœ€é€‚åˆç”¨å®ƒæ¥å½“æé†’å·¥å…·ã€‚</li><li><strong>æ ¼å¼è½¬æ¢ï¼š</strong> ç”±äº Telegram æ¶ˆæ¯å¯¹ Markdown çš„é™åˆ¶ï¼Œå’Œ Telegraph å†™ä½œå¹³å°å¯¹ HTML æ ‡ç­¾çš„é™åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œç¡®ä¿å†…å®¹èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºã€‚</li></ul><h3 id=å®ç°æ–¹æ³•>å®ç°æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#å®ç°æ–¹æ³•>#</a></h3><ol><li><p><strong>è·å–ç”Ÿè¯åˆ—è¡¨</strong>
æ¥å£æ–‡æ¡£ï¼š <a href=https://my.eudic.net/OpenAPI/doc_api_study>https://my.eudic.net/OpenAPI/doc_api_study</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> è·å–æ‰€æœ‰ç”Ÿè¯æœ¬
</span></span><span class=line><span class=cl> æ¥å£è¯´æ˜ï¼š
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> è¯·æ±‚æ–¹å¼ï¼šGET
</span></span><span class=line><span class=cl> è¯·æ±‚åœ°å€ï¼šhttps://api.frdic.com/api/open/v1/studylist/category
</span></span><span class=line><span class=cl> æœ¬æ¥å£ç”¨äºè·å–ç”Ÿè¯æœ¬ä¿¡æ¯
</span></span><span class=line><span class=cl> ç”Ÿè¯æœ¬çš„IDæ˜¯å”¯ä¸€æ ‡è¯†ï¼Œç”¨äºè°ƒç”¨å…¶ä»–æ¥å£
</span></span></code></pre></div></li><li><p><strong>ç”Ÿæˆä¾‹å¥å’Œæ–‡ç« </strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>gen_chat_completion</span><span class=p>(</span><span class=n>sys_prompt</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>prompt</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># ... LLM è°ƒç”¨ä»£ç  (ä¾‹å¦‚ Groq)...</span>
</span></span><span class=line><span class=cl>    <span class=n>chat_completion</span> <span class=o>=</span> <span class=k>await</span> <span class=n>client</span><span class=o>.</span><span class=n>chat</span><span class=o>.</span><span class=n>completions</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>messages</span><span class=o>=</span><span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s2>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;system&#34;</span><span class=p>,</span> <span class=s2>&#34;content&#34;</span><span class=p>:</span> <span class=n>sys_prompt</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s2>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=s2>&#34;content&#34;</span><span class=p>:</span> <span class=n>prompt</span><span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=c1># ... å…¶ä»–å‚æ•°è®¾ç½® ...</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>chat_completion</span><span class=o>.</span><span class=n>choices</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>content</span>
</span></span></code></pre></div><p>ä½¿ç”¨å¦‚ä¸‹ <code>sys_prompt</code> è®© LLM è§£é‡Šå•è¯ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>You are a professional English teacher.
</span></span><span class=line><span class=cl>                 Given a English word, 
</span></span><span class=line><span class=cl>                 output their definitions in both English and Chinese, 
</span></span><span class=line><span class=cl>                 and synonyms and antonyms.
</span></span><span class=line><span class=cl>                 Don&#39;t omit any word from the list.
</span></span><span class=line><span class=cl>                 Must explain all meanings of the word.
</span></span><span class=line><span class=cl>                 Additionally, include all tenses and voices for each word.
</span></span><span class=line><span class=cl>                 Then provide collocations and example sentences.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 Format: Markdown.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 Example:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 **desert**
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 *Definition*:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 - ğŸ‡¬ğŸ‡§: 
</span></span><span class=line><span class=cl>                     - n. arid land with little or no vegetation
</span></span><span class=line><span class=cl>                     - v. leave someone who needs or counts on you; leave in the lurch
</span></span><span class=line><span class=cl>                     - v. desert (a cause, a country or an army), often in order to join the opposing cause, country, or army
</span></span><span class=line><span class=cl>                     - adj. located in a dismal or remote area; desolate
</span></span><span class=line><span class=cl>                 - ğŸ‡¨ğŸ‡³: 
</span></span><span class=line><span class=cl>                     - n. æ²™æ¼ ï¼Œè’æ¼ ï¼›è’å‡‰çš„åœ°æ–¹ï¼›åº”å¾—çš„èµç½š
</span></span><span class=line><span class=cl>                     - v. ç¦»å¼ƒï¼Œèˆå¼ƒï¼ˆæŸåœ°ï¼‰ï¼›æŠ›å¼ƒï¼Œé—å¼ƒï¼ˆæŸäººï¼‰ï¼›èƒŒå¼ƒï¼Œæ”¾å¼ƒï¼›æ“…ç¦»ï¼Œå¼€å°å·®ï¼›çªç„¶ä¸§å¤±
</span></span><span class=line><span class=cl>                     - adj. æ— äººå±…ä½çš„ï¼Œè’å‡‰çš„ï¼›åƒæ²™æ¼ çš„
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 *Synonyms*: 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 - vt. yield , quit
</span></span><span class=line><span class=cl>                 - vi. run out on, walk out on
</span></span><span class=line><span class=cl>                 - n. sands, wold
</span></span><span class=line><span class=cl>                 - adj. arid, desolate, lonely, uninhabited
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 *Antonyms*:
</span></span><span class=line><span class=cl>                 - adj. inhabited, populated
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 *Collocation*: 
</span></span><span class=line><span class=cl>                 desert island n. è’å²›; sahara desert æ’’å“ˆæ‹‰å¤§æ²™æ¼ 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 *Sentence*:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 - ğŸ‡¬ğŸ‡§: The heat in the desert was extreme.
</span></span><span class=line><span class=cl>                 - ğŸ‡¨ğŸ‡³: æ²™æ¼ ä¸­æå…¶ç‚çƒ­
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                 -----------------             
</span></span></code></pre></div><p>ä½¿ç”¨ä»¥ä¸‹ <code>sys_prompt</code> æŒ‡å¯¼ LLM ç”Ÿæˆç¬¦åˆé›…æ€å†™ä½œæ ‡å‡†çš„æ–‡ç« ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>You are a professional English writer.
</span></span><span class=line><span class=cl>Given some English words, Utilize all of the provided English words to compose an essay that does not exceed 280 words. (Do not omit any word from the list). 
</span></span><span class=line><span class=cl>and following IELTS criteria.
</span></span><span class=line><span class=cl>The topic is in 
</span></span><span class=line><span class=cl>(Art, Business &amp; Money, Communication &amp; Personality, Crime &amp; Punishment, Education, Environment, Family &amp; Children, Food &amp; Diet, Government, Health, Housing, Buildings &amp; Urban Planning, Language, Leisure, Media &amp; Advertising, Reading, Society, Space Exploration, Sport &amp; Exercise, Technology, Tourism and Travel, Transport, Work).
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Essay types:
</span></span><span class=line><span class=cl>1.  Opinion Essays 
</span></span><span class=line><span class=cl>2.  Discussion Essays
</span></span><span class=line><span class=cl>3.  Problem Solution Essays
</span></span><span class=line><span class=cl>4.  Advantages &amp; Disadvantages Essays
</span></span><span class=line><span class=cl>5.  Double Question Essays
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Criteria:
</span></span><span class=line><span class=cl>--------
</span></span><span class=line><span class=cl>Task achievement
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Coherence and cohesion
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Lexical resource
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Grammatical range and accuracy
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>--------
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Format: Markdown.
</span></span><span class=line><span class=cl>Include title and content.
</span></span><span class=line><span class=cl>Highlight these given words in the Essay use HTML syntax.
</span></span></code></pre></div></li><li><p><strong>æ ¼å¼è½¬æ¢</strong></p><ul><li>å°† LLM ç”Ÿæˆçš„ Markdown æ ¼å¼æ–‡æœ¬è½¬æ¢ä¸º Telegram æ”¯æŒçš„æ ¼å¼ï¼Œä¾‹å¦‚ä½¿ç”¨ <code>telegramify_markdown</code> åº“ã€‚</li><li>å°† Markdown æ ¼å¼æ–‡æœ¬è½¬æ¢ä¸º Telegraph æ”¯æŒçš„ HTML æ ¼å¼ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„æ ‡ç­¾è¿‡æ»¤å’Œè°ƒæ•´ã€‚</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=c1># llm explain</span>
</span></span><span class=line><span class=cl> <span class=n>llm_explain</span> <span class=o>=</span> <span class=k>await</span> <span class=n>gen_chat_completion</span><span class=p>(</span>
</span></span><span class=line><span class=cl>     <span class=n>sys_message_explanation</span><span class=p>,</span> <span class=sa>f</span><span class=s1>&#39;word: &#34;</span><span class=si>{</span><span class=n>word</span><span class=si>}</span><span class=s1>&#34;&#39;</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>await</span> <span class=n>context</span><span class=o>.</span><span class=n>bot</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span>
</span></span><span class=line><span class=cl>     <span class=n>job</span><span class=o>.</span><span class=n>chat_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>     <span class=n>telegramify_markdown</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>llm_explain</span><span class=p>),</span>
</span></span><span class=line><span class=cl>     <span class=n>parse_mode</span><span class=o>=</span><span class=s2>&#34;MarkdownV2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>     <span class=n>reply_to_message_id</span><span class=o>=</span><span class=n>msg</span><span class=o>.</span><span class=n>message_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>write_to_telegraph</span><span class=p>(</span><span class=n>html</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl> <span class=n>telegraph</span> <span class=o>=</span> <span class=n>Telegraph</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=k>if</span> <span class=ow>not</span> <span class=n>telegraph</span><span class=o>.</span><span class=n>get_access_token</span><span class=p>():</span>
</span></span><span class=line><span class=cl>     <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=k>await</span> <span class=n>telegraph</span><span class=o>.</span><span class=n>create_account</span><span class=p>(</span><span class=n>short_name</span><span class=o>=</span><span class=s2>&#34;anonymous&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=n>response</span> <span class=o>=</span> <span class=k>await</span> <span class=n>telegraph</span><span class=o>.</span><span class=n>create_page</span><span class=p>(</span>
</span></span><span class=line><span class=cl>     <span class=sa>f</span><span class=s2>&#34;Glossary </span><span class=si>{</span><span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(</span><span class=n>datetime</span><span class=o>.</span><span class=n>UTC</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>     <span class=n>html_content</span><span class=o>=</span><span class=n>html</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=n>response</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=n>response</span><span class=p>[</span><span class=s2>&#34;url&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=n>article_url</span> <span class=o>=</span> <span class=k>await</span> <span class=n>write_to_telegraph</span><span class=p>(</span>
</span></span><span class=line><span class=cl>     <span class=n>mistune</span><span class=o>.</span><span class=n>create_markdown</span><span class=p>(</span>
</span></span><span class=line><span class=cl>         <span class=n>escape</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span></span><span class=line><span class=cl>         <span class=n>hard_wrap</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>         <span class=n>plugins</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;strikethrough&#34;</span><span class=p>,</span> <span class=s2>&#34;footnotes&#34;</span><span class=p>,</span> <span class=s2>&#34;table&#34;</span><span class=p>,</span> <span class=s2>&#34;speedup&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>     <span class=p>)(</span>
</span></span><span class=line><span class=cl>         <span class=n>llm_response</span><span class=p>,</span>
</span></span><span class=line><span class=cl>     <span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>await</span> <span class=n>context</span><span class=o>.</span><span class=n>bot</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span><span class=n>job</span><span class=o>.</span><span class=n>chat_id</span><span class=p>,</span> <span class=n>article_url</span><span class=p>)</span>
</span></span></code></pre></div></li><li><p><strong>Edge TTS æœ—è¯»</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>VOICE</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&#34;EDGE_TTS_VOICE&#34;</span><span class=p>,</span> <span class=s2>&#34;en-US-AvaMultilingualNeural&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>gen_tts_audio</span><span class=p>(</span><span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Main function&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>communicate</span> <span class=o>=</span> <span class=n>edge_tts</span><span class=o>.</span><span class=n>Communicate</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>VOICE</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>communicate</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span></code></pre></div></li><li><p><strong>å®šæ—¶å‘é€ Telegram æ¶ˆæ¯</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>    <span class=n>times</span> <span class=o>=</span> <span class=p>[(</span><span class=n>x</span><span class=p>,</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>15</span><span class=p>,</span> <span class=mi>55</span><span class=p>))</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span> <span class=mi>23</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>h</span><span class=p>,</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>times</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>job_queue</span><span class=o>.</span><span class=n>run_daily</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>daily_message</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>datetime</span><span class=o>.</span><span class=n>time</span><span class=p>(</span><span class=n>hour</span><span class=o>=</span><span class=n>h</span><span class=p>,</span> <span class=n>minute</span><span class=o>=</span><span class=n>m</span><span class=p>,</span> <span class=n>tzinfo</span><span class=o>=</span><span class=n>pytz</span><span class=o>.</span><span class=n>timezone</span><span class=p>(</span><span class=s2>&#34;Asia/Shanghai&#34;</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>            <span class=n>name</span><span class=o>=</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>h</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>m</span><span class=si>}</span><span class=s2> job&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>chat_id</span><span class=o>=</span><span class=n>update</span><span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>chat_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span></code></pre></div></li></ol><h3 id=æœªæ¥è§„åˆ’>æœªæ¥è§„åˆ’<a hidden class=anchor aria-hidden=true href=#æœªæ¥è§„åˆ’>#</a></h3><ul><li><strong>æ›´å¤šç”Ÿè¯æœ¬æ¥æºï¼š</strong> å¦‚æ‰‡è´ã€æœ‰é“ï¼Œæˆ–è€…æœ¬åœ° mdict æ–‡ä»¶ç­‰ã€‚</li><li><strong>æ›´å¼ºå¤§çš„ LLMï¼š</strong> æ¥å…¥ GPT 4 æˆ–è€… Claude Opus çº§åˆ«ã€‚</li><li><strong>æ›´å¤šæé†’æ–¹å¼ï¼š</strong> å¦‚ç”Ÿæˆ ical æ–‡ä»¶ï¼Œå¯ä»¥æ·»åŠ åˆ°æ—¥å†ä¸­ã€‚</li></ul><p>æ€»è€Œè¨€ä¹‹ï¼Œè®©æˆ‘ä»¬ä»ä¼ ç»ŸæŒ‰é¡ºåºå•ƒå•è¯çš„æ¯ç‡¥æ–¹å¼è§£æ”¾ï¼Œåœ¨ AI æ—¶ä»£ï¼Œå……åˆ†åˆ©ç”¨ LLMï¼Œé‡æ–°æ€è€ƒèƒŒå•è¯çš„ä¹ æƒ¯ã€‚</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://zhoukuncheng.github.io/tags/english/>English</a></li><li><a href=https://zhoukuncheng.github.io/tags/telegram-bot/>Telegram Bot</a></li><li><a href=https://zhoukuncheng.github.io/tags/python/>Python</a></li><li><a href=https://zhoukuncheng.github.io/tags/llm/>LLM</a></li></ul></footer><script src=https://giscus.app/client.js data-repo=zhoukuncheng/zhoukuncheng.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkyODIxMTA1OTU=" data-category=General data-category-id=DIC_kwDOENCqg84Cexta data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=purple_dark data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://zhoukuncheng.github.io/>zhoukuncheng's Personal Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>