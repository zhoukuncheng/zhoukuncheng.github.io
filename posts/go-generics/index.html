<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Introduction to Go 1.18 Generics | zhoukuncheng's Personal Blog</title><meta name=keywords content="Golang,Generics,Go 1.18"><meta name=description content='What are Generics?
Generic programming is a style or paradigm of computer programming. Generics allow programmers to write code using types that are specified later, which are then instantiated when the code is used.
Basic Usage of Generics in Golang
Examples
Map Operation
package main

import (
	"fmt"
)

func mapFunc[T any, M any](a []T, f func(T) M) []M {
	n := make([]M, len(a), cap(a))
	for i, e := range a {
		n[i] = f(e)
	}
	return n
}

func main() {
	vi := []int{1, 2, 3, 4, 5, 6}
	vs := mapFunc(vi, func(v int) string {
		return "<" + fmt.Sprint(v * v) + ">"
	})
	fmt.Println(vs)
}
Min Max Functions'><meta name=author content="zhoukuncheng"><link rel=canonical href=https://zhoukuncheng.github.io/posts/go-generics/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://zhoukuncheng.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zhoukuncheng.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zhoukuncheng.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://zhoukuncheng.github.io/apple-touch-icon.png><link rel=mask-icon href=https://zhoukuncheng.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://zhoukuncheng.github.io/zh/posts/go-generics/><link rel=alternate hreflang=en href=https://zhoukuncheng.github.io/posts/go-generics/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GH88YSLNJN"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GH88YSLNJN")}</script><meta property="og:url" content="https://zhoukuncheng.github.io/posts/go-generics/"><meta property="og:site_name" content="zhoukuncheng's Personal Blog"><meta property="og:title" content="Introduction to Go 1.18 Generics"><meta property="og:description" content='What are Generics? Generic programming is a style or paradigm of computer programming. Generics allow programmers to write code using types that are specified later, which are then instantiated when the code is used.
Basic Usage of Generics in Golang Examples Map Operation
package main import ( "fmt" ) func mapFunc[T any, M any](a []T, f func(T) M) []M { n := make([]M, len(a), cap(a)) for i, e := range a { n[i] = f(e) } return n } func main() { vi := []int{1, 2, 3, 4, 5, 6} vs := mapFunc(vi, func(v int) string { return "<" + fmt.Sprint(v * v) + ">" }) fmt.Println(vs) } Min Max Functions'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-16T22:41:56+08:00"><meta property="article:modified_time" content="2022-03-16T22:41:56+08:00"><meta property="article:tag" content="Golang"><meta property="article:tag" content="Generics"><meta property="article:tag" content="Go 1.18"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introduction to Go 1.18 Generics"><meta name=twitter:description content='What are Generics?
Generic programming is a style or paradigm of computer programming. Generics allow programmers to write code using types that are specified later, which are then instantiated when the code is used.
Basic Usage of Generics in Golang
Examples
Map Operation
package main

import (
	"fmt"
)

func mapFunc[T any, M any](a []T, f func(T) M) []M {
	n := make([]M, len(a), cap(a))
	for i, e := range a {
		n[i] = f(e)
	}
	return n
}

func main() {
	vi := []int{1, 2, 3, 4, 5, 6}
	vs := mapFunc(vi, func(v int) string {
		return "<" + fmt.Sprint(v * v) + ">"
	})
	fmt.Println(vs)
}
Min Max Functions'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zhoukuncheng.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Introduction to Go 1.18 Generics","item":"https://zhoukuncheng.github.io/posts/go-generics/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Introduction to Go 1.18 Generics","name":"Introduction to Go 1.18 Generics","description":"What are Generics? Generic programming is a style or paradigm of computer programming. Generics allow programmers to write code using types that are specified later, which are then instantiated when the code is used.\nBasic Usage of Generics in Golang Examples Map Operation\npackage main import ( \u0026#34;fmt\u0026#34; ) func mapFunc[T any, M any](a []T, f func(T) M) []M { n := make([]M, len(a), cap(a)) for i, e := range a { n[i] = f(e) } return n } func main() { vi := []int{1, 2, 3, 4, 5, 6} vs := mapFunc(vi, func(v int) string { return \u0026#34;\u0026lt;\u0026#34; + fmt.Sprint(v * v) + \u0026#34;\u0026gt;\u0026#34; }) fmt.Println(vs) } Min Max Functions\n","keywords":["Golang","Generics","Go 1.18"],"articleBody":"What are Generics? Generic programming is a style or paradigm of computer programming. Generics allow programmers to write code using types that are specified later, which are then instantiated when the code is used.\nBasic Usage of Generics in Golang Examples Map Operation\npackage main import ( \"fmt\" ) func mapFunc[T any, M any](a []T, f func(T) M) []M { n := make([]M, len(a), cap(a)) for i, e := range a { n[i] = f(e) } return n } func main() { vi := []int{1, 2, 3, 4, 5, 6} vs := mapFunc(vi, func(v int) string { return \"\u003c\" + fmt.Sprint(v * v) + \"\u003e\" }) fmt.Println(vs) } Min Max Functions\npackage main import ( \"fmt\" ) type ordered interface { ~int | ~int8 | ~int16 | ~int32 | ~int64 | ~uint | ~uint8 | ~uint16 | ~uint32 | ~uint64 | ~uintptr | ~float32 | ~float64 | ~string } func max[T ordered](a []T) T { m := a[0] for _, v := range a { if m \u003c v { m = v } } return m } func min[T ordered](a []T) T { m := a[0] for _, v := range a { if m \u003e v { m = v } } return m } func main() { vi := []int{1, 2, 3, 4, 5, 6, 7, 8, 9, 10} result := max(vi) fmt.Println(result) vii := []string{\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\"} result2 := min(vii) fmt.Println(result2) } Set\n// Package sets implements sets of any comparable type. package sets // Set is a set of values. type Set[T comparable] map[T]struct{} // Make returns a set of some element type. func Make[T comparable]() Set[T] { return make(Set[T]) } // Add adds v to the set s. // If v is already in s this has no effect. func (s Set[T]) Add(v T) { s[v] = struct{}{} } // Delete removes v from the set s. // If v is not in s this has no effect. func (s Set[T]) Delete(v T) { delete(s, v) } // Contains reports whether v is in s. func (s Set[T]) Contains(v T) bool { _, ok := s[v] return ok } // Len reports the number of elements in s. func (s Set[T]) Len() int { return len(s) } // Iterate invokes f on each element of s. // It's OK for f to call the Delete method. func (s Set[T]) Iterate(f func(T)) { for v := range s { f(v) } } Trying it Out Go2Goplaygroud: The go2go Playground\nGo 1.17 (Not latest, not recommended):\ngo run -gcflags=-G=3 myproject/main.go\nGo 1.18 (Official release available)\nhttps://go.dev/doc/go1.18\nCurrent State of Golang Types and the Significance of Generics Currently interface Drawbacks: Type casting, lack of compile-time constraints.\npackage main import \"fmt\" func printStr(x interface{}) { value, ok := x.(string) if !ok { fmt.Println(\"It's not ok for type string\") return } fmt.Println(\"The value is \", value) } func main() { printStr(123) } // It's not ok for type string Writing Separately for Different Types Drawbacks: API and code implementation are not clean, large workload, etc.\nExamples: sort, math in the current standard library.\nhttps://pkg.go.dev/sort https://pkg.go.dev/math Code Generation Drawbacks: Need to learn third-party code generation tools, go:generate, AST, etc., not universal.\nExample:\nhttps://github.com/cheekybits/genny\npackage gogenerate import \"github.com/cheekybits/genny/generic\" //go:generate genny -in=$GOFILE -out=gen-$GOFILE gen \"KeyType=string,int ValueType=string,int\" type KeyType generic.Type type ValueType generic.Type type KeyTypeValueTypeMap map[KeyType]ValueType func NewKeyTypeValueTypeMap() map[KeyType]ValueType { return make(map[KeyType]ValueType) } Significance of Official Go Generics Generic operations and type constraints Functional programming Simplifying implementation of standard and third-party libraries ………\nHistory of Golang Generics Development Description Time Author [Type Functions] 2010 Ian Lance Taylor Generalized Types 2011 Ian Lance Taylor Generalized Types v2 2013 Ian Lance Taylor Type Parameters 2013 Ian Lance Taylor go:generate 2014 Rob Pike First Class Types 2015 Bryan C.Mills Contracts 2018 Ian Lance Taylor, Robert Griesemer Contracts 2019 Ian Lance Taylor, Robert Griesemer Redundancy in Contracts(2019)’s Design 2019 Ian Lance Taylor, Robert Griesemer Constrained Type Parameters 2020 Ian Lance Taylor, Robert Griesemer Featherweight Go 2020 Ian Lance Taylor, Robert Griesemer Merged into master, Go 1.18 released, Standard Library improvements etc. 2021 - 2022 Golang Generics Implementation Principles Loans from other languages Generics Implementation in Different Languages boxing VS monomorphization\nThe Dilemma of Generics https://research.swtch.com/generic\nBurden on Programmers: e.g., C, increases programmer burden, requires convoluted implementations, but doesn’t increase language complexity. Burden on Compiler: e.g., C++, increases compiler burden, potentially generating a lot of redundant code; duplicate code needs compiler discretion to remove, compiled files might vary largely. Burden on Execution Time: e.g., Java, boxes everything into Objects, performing type erasure. Although this reduces code redundancy and space, boxing/unboxing operations reduce code efficiency. Go Keith H. Randal’s three proposals:\nGenerics implementation - Dictionaries\nCompile-time instantiation of dictionaries, where the dictionary contains type information instantiated for type parameters.\nGenerics implementation - Stenciling\nTemplate generation, generating an independent set of code for each instantiated type.\nGenerics implementation - GC Shape Stenciling\nHybrid implementation. Types with the same shape share the same code, using dictionaries to distinguish different behaviors of types.\nThe shape of a type refers to how it appears to the memory allocator/garbage collector, including size, required alignment, and which parts of the type contain pointers.\nReferences Official Go and Community Resources:\nhttps://go.dev/doc/go1.18\nhttps://go.dev/doc/tutorial/generics\nhttps://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md\nhttps://go.dev/blog/generics-proposal\nhttps://go.dev/blog/generics-next-step\nhttps://go.dev/blog/go2draft\nhttps://go.dev/blog/why-generics\nhttps://github.com/golang/proposal/blob/master/design/generics-implementation-dictionaries.md\nhttps://github.com/golang/proposal/blob/master/design/generics-implementation-stenciling.md\nhttps://github.com/golang/proposal/blob/master/design/generics-implementation-gcshape.md\nUsage examples, article analysis, etc.:\nhttps://github.com/mattn/go-generics-example\nhttps://colobu.com/2021/08/30/how-is-go-generic-implemented/\nhttps://coolshell.cn/articles/21615.html\nhttps://draveness.me/whys-the-design-go-generics/\nhttps://taoshu.in/go/go-generics-design.html\nhttps://research.swtch.com/generic\nhttps://thume.ca/2019/07/14/a-tour-of-metaprogramming-models-for-generics/\n","wordCount":"893","inLanguage":"en","datePublished":"2022-03-16T22:41:56+08:00","dateModified":"2022-03-16T22:41:56+08:00","author":{"@type":"Person","name":"zhoukuncheng"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhoukuncheng.github.io/posts/go-generics/"},"publisher":{"@type":"Organization","name":"zhoukuncheng's Personal Blog","logo":{"@type":"ImageObject","url":"https://zhoukuncheng.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://zhoukuncheng.github.io/ accesskey=h title="zhoukuncheng's Personal Blog (Alt + H)">zhoukuncheng's Personal Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://zhoukuncheng.github.io/zh/ title=中文 aria-label=中文>Zh</a></li></ul></div></div><ul id=menu><li><a href=https://zhoukuncheng.github.io/ title=Home><span>Home</span></a></li><li><a href=https://zhoukuncheng.github.io/posts/ title=Archive><span>Archive</span></a></li><li><a href=https://zhoukuncheng.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zhoukuncheng.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://zhoukuncheng.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Introduction to Go 1.18 Generics</h1><div class=post-meta><span title='2022-03-16 22:41:56 +0800 +0800'>March 16, 2022</span>&nbsp;·&nbsp;<span>zhoukuncheng</span>&nbsp;|&nbsp;<span>Translations:</span><ul class=i18n_list><li><a href=https://zhoukuncheng.github.io/zh/posts/go-generics/>Zh</a></li></ul></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#what-are-generics aria-label="What are Generics?">What are Generics?</a></li><li><a href=#basic-usage-of-generics-in-golang aria-label="Basic Usage of Generics in Golang">Basic Usage of Generics in Golang</a><ul><li><a href=#examples aria-label=Examples>Examples</a></li><li><a href=#trying-it-out aria-label="Trying it Out">Trying it Out</a></li></ul></li><li><a href=#current-state-of-golang-types-and-the-significance-of-generics aria-label="Current State of Golang Types and the Significance of Generics">Current State of Golang Types and the Significance of Generics</a><ul><li><a href=#currently aria-label=Currently>Currently</a><ul><li><a href=#interface aria-label=interface>interface</a></li><li><a href=#writing-separately-for-different-types aria-label="Writing Separately for Different Types">Writing Separately for Different Types</a></li><li><a href=#code-generation aria-label="Code Generation">Code Generation</a></li></ul></li><li><a href=#significance-of-official-go-generics aria-label="Significance of Official Go Generics">Significance of Official Go Generics</a></li></ul></li><li><a href=#history-of-golang-generics-development aria-label="History of Golang Generics Development">History of Golang Generics Development</a></li><li><a href=#golang-generics-implementation-principles aria-label="Golang Generics Implementation Principles">Golang Generics Implementation Principles</a><ul><li><a href=#loans-from-other-languages aria-label="Loans from other languages">Loans from other languages</a><ul><li><a href=#generics-implementation-in-different-languages aria-label="Generics Implementation in Different Languages">Generics Implementation in Different Languages</a></li><li><a href=#the-dilemma-of-generics aria-label="The Dilemma of Generics">The Dilemma of Generics</a></li></ul></li><li><a href=#go aria-label=Go>Go</a></li></ul></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><h2 id=what-are-generics>What are Generics?<a hidden class=anchor aria-hidden=true href=#what-are-generics>#</a></h2><p>Generic programming is a style or paradigm of computer programming. Generics allow programmers to write code using types that are specified later, which are then instantiated when the code is used.</p><h2 id=basic-usage-of-generics-in-golang>Basic Usage of Generics in Golang<a hidden class=anchor aria-hidden=true href=#basic-usage-of-generics-in-golang>#</a></h2><h3 id=examples>Examples<a hidden class=anchor aria-hidden=true href=#examples>#</a></h3><p>Map Operation</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=s>&#34;fmt&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nx>mapFunc</span><span class=p>[</span><span class=nx>T</span><span class=w> </span><span class=kt>any</span><span class=p>,</span><span class=w> </span><span class=nx>M</span><span class=w> </span><span class=kt>any</span><span class=p>](</span><span class=nx>a</span><span class=w> </span><span class=p>[]</span><span class=nx>T</span><span class=p>,</span><span class=w> </span><span class=nx>f</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=nx>M</span><span class=p>)</span><span class=w> </span><span class=p>[]</span><span class=nx>M</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>n</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=nx>M</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>a</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>a</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>n</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nf>f</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nx>n</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>vi</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>vs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nf>mapFunc</span><span class=p>(</span><span class=nx>vi</span><span class=p>,</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=s>&#34;&lt;&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprint</span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>v</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;&gt;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>})</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>vs</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>Min Max Functions</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=s>&#34;fmt&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>ordered</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>~</span><span class=kt>int</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int8</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int16</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int32</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>int64</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint8</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint16</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint32</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uint64</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>uintptr</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>float32</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>float64</span><span class=w> </span><span class=p>|</span><span class=w> </span><span class=p>~</span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nx>max</span><span class=p>[</span><span class=nx>T</span><span class=w> </span><span class=nx>ordered</span><span class=p>](</span><span class=nx>a</span><span class=w> </span><span class=p>[]</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=nx>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>m</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>a</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>if</span><span class=w> </span><span class=nx>m</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=nx>m</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>v</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nx>m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nx>min</span><span class=p>[</span><span class=nx>T</span><span class=w> </span><span class=nx>ordered</span><span class=p>](</span><span class=nx>a</span><span class=w> </span><span class=p>[]</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=nx>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>m</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>a</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>if</span><span class=w> </span><span class=nx>m</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=nx>m</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>v</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nx>m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>vi</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>9</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>result</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>max</span><span class=p>(</span><span class=nx>vi</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>vii</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&#34;a&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;b&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;c&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;d&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;e&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;f&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;g&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;h&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;i&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;j&#34;</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>result2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>min</span><span class=p>(</span><span class=nx>vii</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>result2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>Set</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// Package sets implements sets of any comparable type.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>sets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Set is a set of values.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=w> </span><span class=nx>comparable</span><span class=p>]</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=nx>T</span><span class=p>]</span><span class=kd>struct</span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Make returns a set of some element type.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nx>Make</span><span class=p>[</span><span class=nx>T</span><span class=w> </span><span class=nx>comparable</span><span class=p>]()</span><span class=w> </span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=p>]</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Add adds v to the set s.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// If v is already in s this has no effect.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=p>])</span><span class=w> </span><span class=nf>Add</span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>s</span><span class=p>[</span><span class=nx>v</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kd>struct</span><span class=p>{}{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Delete removes v from the set s.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// If v is not in s this has no effect.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=p>])</span><span class=w> </span><span class=nf>Delete</span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nb>delete</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Contains reports whether v is in s.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=p>])</span><span class=w> </span><span class=nf>Contains</span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=nx>v</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nx>ok</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Len reports the number of elements in s.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=p>])</span><span class=w> </span><span class=nf>Len</span><span class=p>()</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Iterate invokes f on each element of s.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// It&#39;s OK for f to call the Delete method.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>Set</span><span class=p>[</span><span class=nx>T</span><span class=p>])</span><span class=w> </span><span class=nf>Iterate</span><span class=p>(</span><span class=nx>f</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>T</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nf>f</span><span class=p>(</span><span class=nx>v</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=trying-it-out>Trying it Out<a hidden class=anchor aria-hidden=true href=#trying-it-out>#</a></h3><ul><li><p>Go2Goplaygroud: <a href=https://go2goplay.golang.org/>The go2go Playground</a></p></li><li><p>Go 1.17 (Not latest, not recommended):</p><p><code>go run -gcflags=-G=3 myproject/main.go</code></p></li><li><p>Go 1.18 (Official release available)</p><p><a href=https://go.dev/doc/go1.18>https://go.dev/doc/go1.18</a></p></li></ul><h2 id=current-state-of-golang-types-and-the-significance-of-generics>Current State of Golang Types and the Significance of Generics<a hidden class=anchor aria-hidden=true href=#current-state-of-golang-types-and-the-significance-of-generics>#</a></h2><h3 id=currently>Currently<a hidden class=anchor aria-hidden=true href=#currently>#</a></h3><h4 id=interface>interface<a hidden class=anchor aria-hidden=true href=#interface>#</a></h4><p>Drawbacks: Type casting, lack of compile-time constraints.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=s>&#34;fmt&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>printStr</span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=kd>interface</span><span class=p>{})</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>x</span><span class=p>.(</span><span class=kt>string</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>if</span><span class=w> </span><span class=p>!</span><span class=nx>ok</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;It&#39;s not ok for type string&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;The value is &#34;</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nf>printStr</span><span class=p>(</span><span class=mi>123</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// It&#39;s not ok for type string</span><span class=w>
</span></span></span></code></pre></div><h4 id=writing-separately-for-different-types>Writing Separately for Different Types<a hidden class=anchor aria-hidden=true href=#writing-separately-for-different-types>#</a></h4><p>Drawbacks: API and code implementation are not clean, large workload, etc.</p><p>Examples: <code>sort</code>, <code>math</code> in the current standard library.</p><ul><li><a href=https://pkg.go.dev/sort>https://pkg.go.dev/sort</a></li><li><a href=https://pkg.go.dev/math>https://pkg.go.dev/math</a></li></ul><h4 id=code-generation>Code Generation<a hidden class=anchor aria-hidden=true href=#code-generation>#</a></h4><p>Drawbacks: Need to learn third-party code generation tools, <code>go:generate</code>, AST, etc., not universal.</p><p>Example:</p><p><a href=https://github.com/cheekybits/genny>https://github.com/cheekybits/genny</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>gogenerate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=s>&#34;github.com/cheekybits/genny/generic&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=cp>//go:generate genny -in=$GOFILE -out=gen-$GOFILE gen &#34;KeyType=string,int ValueType=string,int&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>KeyType</span><span class=w> </span><span class=nx>generic</span><span class=p>.</span><span class=nx>Type</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>ValueType</span><span class=w> </span><span class=nx>generic</span><span class=p>.</span><span class=nx>Type</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>KeyTypeValueTypeMap</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=nx>KeyType</span><span class=p>]</span><span class=nx>ValueType</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>NewKeyTypeValueTypeMap</span><span class=p>()</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=nx>KeyType</span><span class=p>]</span><span class=nx>ValueType</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=nx>KeyType</span><span class=p>]</span><span class=nx>ValueType</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=significance-of-official-go-generics>Significance of Official Go Generics<a hidden class=anchor aria-hidden=true href=#significance-of-official-go-generics>#</a></h3><ul><li>Generic operations and type constraints</li><li>Functional programming</li><li>Simplifying implementation of standard and third-party libraries</li></ul><p>………</p><h2 id=history-of-golang-generics-development>History of Golang Generics Development<a hidden class=anchor aria-hidden=true href=#history-of-golang-generics-development>#</a></h2><table><thead><tr><th style=text-align:left>Description</th><th style=text-align:left>Time</th><th style=text-align:left>Author</th></tr></thead><tbody><tr><td style=text-align:left>[Type Functions]</td><td style=text-align:left>2010</td><td style=text-align:left>Ian Lance Taylor</td></tr><tr><td style=text-align:left>Generalized Types</td><td style=text-align:left>2011</td><td style=text-align:left>Ian Lance Taylor</td></tr><tr><td style=text-align:left>Generalized Types v2</td><td style=text-align:left>2013</td><td style=text-align:left>Ian Lance Taylor</td></tr><tr><td style=text-align:left>Type Parameters</td><td style=text-align:left>2013</td><td style=text-align:left>Ian Lance Taylor</td></tr><tr><td style=text-align:left>go:generate</td><td style=text-align:left>2014</td><td style=text-align:left>Rob Pike</td></tr><tr><td style=text-align:left>First Class Types</td><td style=text-align:left>2015</td><td style=text-align:left>Bryan C.Mills</td></tr><tr><td style=text-align:left>Contracts</td><td style=text-align:left>2018</td><td style=text-align:left>Ian Lance Taylor, Robert Griesemer</td></tr><tr><td style=text-align:left><a href=https://go.googlesource.com/proposal/+/master/design/go2draft-contracts.md>Contracts</a></td><td style=text-align:left>2019</td><td style=text-align:left>Ian Lance Taylor, Robert Griesemer</td></tr><tr><td style=text-align:left>Redundancy in Contracts(2019)&rsquo;s Design</td><td style=text-align:left>2019</td><td style=text-align:left>Ian Lance Taylor, Robert Griesemer</td></tr><tr><td style=text-align:left><a href=https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md>Constrained Type Parameters</a></td><td style=text-align:left>2020</td><td style=text-align:left>Ian Lance Taylor, Robert Griesemer</td></tr><tr><td style=text-align:left><a href=https://arxiv.org/pdf/2005.11710.pdf>Featherweight Go</a></td><td style=text-align:left>2020</td><td style=text-align:left>Ian Lance Taylor, Robert Griesemer</td></tr><tr><td style=text-align:left>Merged into master, Go 1.18 released, Standard Library improvements etc.</td><td style=text-align:left>2021 - 2022</td><td style=text-align:left></td></tr></tbody></table><h2 id=golang-generics-implementation-principles>Golang Generics Implementation Principles<a hidden class=anchor aria-hidden=true href=#golang-generics-implementation-principles>#</a></h2><h3 id=loans-from-other-languages>Loans from other languages<a hidden class=anchor aria-hidden=true href=#loans-from-other-languages>#</a></h3><h4 id=generics-implementation-in-different-languages>Generics Implementation in Different Languages<a hidden class=anchor aria-hidden=true href=#generics-implementation-in-different-languages>#</a></h4><p><a href=https://en.wikipedia.org/wiki/Object_type_%28object-oriented_programming%29#Boxing>boxing</a> VS <a href=https://en.wikipedia.org/wiki/Monomorphization>monomorphization</a></p><p><a href=https://thume.ca/2019/07/14/a-tour-of-metaprogramming-models-for-generics/><img alt=img loading=lazy src=/static/flowchart-2x-16474487455315.png></a></p><h4 id=the-dilemma-of-generics>The Dilemma of Generics<a hidden class=anchor aria-hidden=true href=#the-dilemma-of-generics>#</a></h4><p><a href=https://research.swtch.com/generic>https://research.swtch.com/generic</a></p><ul><li>Burden on Programmers: e.g., C, increases programmer burden, requires convoluted implementations, but doesn&rsquo;t increase language complexity.</li><li>Burden on Compiler: e.g., C++, increases compiler burden, potentially generating a lot of redundant code; duplicate code needs compiler discretion to remove, compiled files might vary largely.</li><li>Burden on Execution Time: e.g., Java, boxes everything into Objects, performing type erasure. Although this reduces code redundancy and space, boxing/unboxing operations reduce code efficiency.</li></ul><h3 id=go>Go<a hidden class=anchor aria-hidden=true href=#go>#</a></h3><p>Keith H. Randal&rsquo;s three proposals:</p><p><a href=https://github.com/golang/proposal/blob/master/design/generics-implementation-dictionaries.md>Generics implementation - Dictionaries</a></p><p>Compile-time instantiation of dictionaries, where the dictionary contains type information instantiated for type parameters.</p><p><a href=https://github.com/golang/proposal/blob/master/design/generics-implementation-stenciling.md>Generics implementation - Stenciling</a></p><p>Template generation, generating an independent set of code for each instantiated type.</p><p><a href=https://github.com/golang/proposal/blob/master/design/generics-implementation-gcshape.md>Generics implementation - GC Shape Stenciling</a></p><p>Hybrid implementation. Types with the same shape share the same code, using dictionaries to distinguish different behaviors of types.</p><p>The shape of a type refers to how it appears to the memory allocator/garbage collector, including size, required alignment, and which parts of the type contain pointers.</p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><p>Official Go and Community Resources:</p><p><a href=https://go.dev/doc/go1.18>https://go.dev/doc/go1.18</a></p><p><a href=https://go.dev/doc/tutorial/generics>https://go.dev/doc/tutorial/generics</a></p><p><strong><a href=https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md>https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md</a></strong></p><p><a href=https://go.dev/blog/generics-proposal>https://go.dev/blog/generics-proposal</a></p><p><a href=https://go.dev/blog/generics-next-step>https://go.dev/blog/generics-next-step</a></p><p><a href=https://go.dev/blog/go2draft>https://go.dev/blog/go2draft</a></p><p><a href=https://go.dev/blog/why-generics>https://go.dev/blog/why-generics</a></p><p><a href=https://github.com/golang/proposal/blob/master/design/generics-implementation-dictionaries.md>https://github.com/golang/proposal/blob/master/design/generics-implementation-dictionaries.md</a></p><p><a href=https://github.com/golang/proposal/blob/master/design/generics-implementation-stenciling.md>https://github.com/golang/proposal/blob/master/design/generics-implementation-stenciling.md</a></p><p><a href=https://github.com/golang/proposal/blob/master/design/generics-implementation-gcshape.md>https://github.com/golang/proposal/blob/master/design/generics-implementation-gcshape.md</a></p><p>Usage examples, article analysis, etc.:</p><p><a href=https://github.com/mattn/go-generics-example>https://github.com/mattn/go-generics-example</a></p><p><a href=https://colobu.com/2021/08/30/how-is-go-generic-implemented/>https://colobu.com/2021/08/30/how-is-go-generic-implemented/</a></p><p><a href=https://coolshell.cn/articles/21615.html>https://coolshell.cn/articles/21615.html</a></p><p><a href=https://draveness.me/whys-the-design-go-generics/>https://draveness.me/whys-the-design-go-generics/</a></p><p><a href=https://taoshu.in/go/go-generics-design.html>https://taoshu.in/go/go-generics-design.html</a></p><p><a href=https://research.swtch.com/generic>https://research.swtch.com/generic</a></p><p><a href=https://thume.ca/2019/07/14/a-tour-of-metaprogramming-models-for-generics/>https://thume.ca/2019/07/14/a-tour-of-metaprogramming-models-for-generics/</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://zhoukuncheng.github.io/tags/golang/>Golang</a></li><li><a href=https://zhoukuncheng.github.io/tags/generics/>Generics</a></li><li><a href=https://zhoukuncheng.github.io/tags/go-1.18/>Go 1.18</a></li></ul></footer><script src=https://giscus.app/client.js data-repo=zhoukuncheng/zhoukuncheng.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkyODIxMTA1OTU=" data-category=General data-category-id=DIC_kwDOENCqg84Cexta data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=purple_dark data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://zhoukuncheng.github.io/>zhoukuncheng's Personal Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>